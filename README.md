# tx_js
1.背景：
  以用户在广告系统中的交互行为作为输入来预测用户的人口统计学属性。数据提供用户90天点击的广告素材，以及广告素材对应的属性id。任务是预测用户的性别与年龄层级。
2.解决方案：
  （1）问题：年龄预测为10分类问题。性别预测为2分分类问题。
  （2）特征统计分析：a.统计用户时间窗口内的点击广告次数信息
                   b.统计用户点击各种id的数量,各个类别的数量的方差,天点击次数的方差
                   c.统计用户点击各种产品类型的次数以及各种广告主的点击次数
                   d.统计用户90天内点击各个id以及时间的点击序列
  （3）特征帅选处理：利用gender对统计的非序列特征利用cart分箱方法计算iv值拿出特征iv值大于0.2的特征
  （4）预训练处理：利用word2vec对广告素材id以及广告id进行预训练
  （5）模型构建：将各种id对应的embedding进行concat，这样可以解决createid约有百分之30只出现一次的问题。利用其属性得出共性化信息。lstm捕捉时序信息。
       meanpooling。结合统计特征，分别构建模型，预估线上提交1.40
3.模型改进：
  （1）从性别考虑，不同性别之间同年龄段点击序列差异很大，将gender和age预估目标结合。使用一个模型，将预测目标改为20分类。线上提交1.42
  （2）广告素材id百分之30只出现一次，将其它id特征直接聚合，并作为type，构建新序列与create_id一起做word2vec。线上提升1.43
  （3）lstm之后加selfattention。利用attention捕捉全局信息，attention之后接cnn利用cnn捕捉局部信息。线上1.439
  （4）使用transformer对非create_id序列信息进行提取，利用create_id做attention pooling。线上提交1.445 rank 68
